<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Job Details - HireBase</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
<header>
  <div class="container-full">
    <nav class="header transparent" id="mainNavbar">
      <a href="#" class="logo">
        <i class="fas fa-briefcase"></i>
        Hire<span>Base</span>
      </a>

      <div class="nav-links" id="navMenu">
        <a href="#">Home</a>
        <a href="find-jobs.html">Find Jobs</a>
        <a href="find-candidates.html">Find Candidates</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>
      </div>

      <div class="hamburger" onclick="toggleMenu()" aria-expanded="false" aria-label="Toggle navigation">
        ☰
      </div>
    </nav>
  </div>
</header>

<main class="main-content">
  <div class="layout-wrapper">
    <!-- Sidebar -->
    <div class="sidebar">
      <h2 class="sidebar-title">More Jobs at <span id="sidebar-company-name">HealthPlus</span></h2>
      
      <!-- Sidebar Jobs Container - Will be populated by JavaScript -->
      <div id="sidebar-jobs-container">
        <!-- Sidebar jobs will be inserted here dynamically -->
      </div>
    </div>

    <!-- Main Job Content -->
    <div class="job-container">
      
      <!-- Banner Image -->
      <div class="banner">
        <img id="banner-image" src="" alt="Job banner image" class="banner-image">
      </div>

      <!-- Job Header + Content (combined) -->
      <div class="card-body">
        <div class="poster-info">
          <img id="poster-avatar" src="" alt="Poster avatar" class="poster-avatar">
          <p class="poster-meta"><span id="job-poster-name">Alan</span> · Posted <span id="job-posted-date">2 days ago</span></p>
        </div>

        <div class="job-header">
          <h1 class="job-title" id="job-title">Staff Therapist</h1>
          <div class="job-actions">
            <button class="apply-now-btn">Apply now</button>
            <button class="icon-btn"><i class="far fa-heart"></i></button>
            <button class="icon-btn"><i class="fas fa-ellipsis-h"></i></button>
          </div>
        </div>

        <div class="job-meta" id="job-meta">
          <!-- Will be populated by JavaScript -->
        </div>
      </div>

      <!-- Key Details -->
      <section class="key-details">
        <div class="detail-block">
          <h3>Experience Level</h3>
          <p id="job-experience-level">Experienced (3+ years)</p>
        </div>
        <div class="detail-block">
          <h3>Specialization</h3>
          <p id="job-specialization">Clinical patient care</p>
        </div>
        <div class="detail-block">
          <h3>Work Setting</h3>
          <p id="job-work-setting">Hybrid (Office/Remote)</p>
        </div>
      </section>

      <!-- Skills -->
      <section class="skills-section">
        <h2>Required Skills</h2>
        <ul class="skills-list" id="job-skills">
          <!-- Will be populated by JavaScript -->
        </ul>
      </section>

      <!-- Job Description -->
      <section class="job-description">
        <h2>About The Role</h2>
        <p id="job-description">We're seeking an experienced Staff Therapist to join our growing mental health practice. You'll provide high-quality therapeutic services to a diverse client population while collaborating with our multidisciplinary team.</p>
        <h3>Key Responsibilities</h3>
        <ul class="responsibilities" id="job-responsibilities">
          <!-- Will be populated by JavaScript -->
        </ul>
      </section>

      <!-- About Company -->
      <section class="about-company">
        <h2>About <span id="company-name">HealthPlus</span></h2>
        <p id="about-company">HealthPlus is revolutionizing the private health services industry in Canada. While most Canadian citizens receive coverage from the government, we provide premium services that complement public healthcare. Our business is growing rapidly with plans to expand across North America.</p>
      </section>
    </div>
  </div>
</main>

<!-- For testing purposes, let's simulate that we already have a job in sessionStorage -->
<script>
  // For demo purposes, let's load the JSON file and set a default job
  fetch('data.json')
    .then(response => response.json())
    .then(data => {
      // Store the first job as the current job for demo purposes
      // In a real app, this would be set when the user clicks on a job listing
      sessionStorage.setItem('currentJob', JSON.stringify(data.jobs[0]));
      // Also store all jobs for reference
      sessionStorage.setItem('allJobs', JSON.stringify(data.jobs));
    })
    .catch(error => console.error('Error loading job data:', error));
</script>

<script src="script.js"></script>
</body>
</html>